% commands specific to what I use in my thesis:
\usepackage{olmath,olalg,olalgeom}
\usepackage{olabbrev,olpolyseries,olcontfrac,olreduction}

% important domains
\newcommand{\K}{\ensuremath \mathbb K}
\newcommand{\HER}{\ensuremath \K[X,\sqrt{D}]}
\newcommand{\HEF}{\ensuremath \K(X,\sqrt{D})}

\newcommand{\CC}{\ensuremath\mathcal{C}}  % curve
\newcommand{\CCa}{\CC_{\mathrm{aff}}} % affine curve
\newcommand{\CCinf}{\CC_{\mathrm{aff}}^\flat} % affine curve at infinity
\newcommand{\OO}{\ensuremath\di{O}}   % divisor at infinity

\newcommand{\CCred}{\ensuremath\CC_{\mathrm{red}}}
\newcommand{\Jacred}{\ensuremath\Jac_{\mathrm{red}}}

\newcommand{\cfdivisorsingle}[2]{-(#1+1) \pd{O_-} + #1 \pd{O_+} + \pd{#2}}
\newcommand{\cfdivisor}[3]{-(#1+#2) \pd{O_-} + #1 \pd{O_+} + \pd{#3_1} + \dots + \pd{#3_{#2}}}
\newcommand{\cfdivisortranslate}[5]{-(#1+#2-#4) \pd{O_-} -\left(\pd{#5_1} + \dots + \pd{#5_{#4}}\right) + #1 \pd{O_+} + \pd{#3_1} + \dots + \pd{#3_{#2}}}


% Tate height
\newcommand{\Th}{\hat{h}}
\newcommand{\tH}{\hat{H}}

\newcommand{\haff}{h_{\mathrm{aff}}}
\newcommand{\hproj}{h_{\mathrm{proj}}}

\newcommand{\Haff}{H_{\mathrm{aff}}}
\newcommand{\Hproj}{H_{\mathrm{proj}}}

\newcommand{\divsum}{\sum_{P \in \CC(\closure \K)}}
\newcommand{\divsumred}{\sum_{R \in \CCred(\closure{k})}}


% blocks for specialization
\newcommand{\unboundedset}{\mathcal U}

% custom commands
\newcommand{\parity}[1]{\iota(#1)}

\usepackage{caption} % a \caption* command to suppress "Table ?: " caption prefix

% numbering of continued fraction examples (with reference support)
% this is a bit more complicated because we want to use it inside of \caption commands.
\newcounter{cfexamplenumber}
\newcommand{\stepcfexamplenumber}{\refstepcounter{cfexamplenumber}}
\DeclareRobustCommand{\cfexample}[1]{\stepcfexamplenumber\arabic{cfexamplenumber}\label{#1}}
\makeatletter
\g@addto@macro\caption@prepareslc{%
  \renewcommand{\stepcfexamplenumber}{\caption@l@stepcounter{cfexamplenumber}}}
\makeatother
